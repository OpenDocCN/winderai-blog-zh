# 云原生数据科学:最佳实践

> 原文：<https://winder.ai/cloud-native-data-science-best-practices/>

遵循不变性、自动化和起源的云原生最佳实践将在 CNDS 项目中很好地为您服务。但是，围绕这些主题，处理数据也带来了微妙的挑战。

![Abstract image of Cloud Native Data Science Best Practices](img/0a5f8683918df1baf00bef977a7f86f1.png)

**其他文章** : [战略](https://winder.ai/cloud-native-data-science-strategy/) | [技术](https://winder.ai/cloud-native-data-science-technology/) | [最佳实践](https://winder.ai/cloud-native-data-science-best-practices/)

## 起源

当出现问题时，确认模型的出处是最重要的。例如，意想不到的新数据或攻击[1]会导致实时系统预测中的灾难性错误。在这些情况下，我们需要能够完全重建错误发生时的模型状态。这可以通过拍摄快照来实现:

*   该模型及其参数和超参数，
*   训练数据，
*   训练结束时的结果，
*   训练和运行模型的代码，以及
*   通过固定种子。

当失败真的发生时，确保你首先覆盖基础知识是非常重要的。所有的失败都应该是令人惊讶的，并且是由于对数据的一些误解。例如，有报道称特斯拉的停车模式撞击了客户的车库门。如果它不能避免撞门，人们如何能在以 70 英里/小时的速度驾驶时有信心。

当失败发生时，确保它们不会再次发生。总是检查最大的故障，并确保自动化测试符合标准。如有必要，重新训练模型。如果线上和线下的结果不一样，那你就有 bug 了。如果有意义，将数据添加到回归测试集中，以确保它不会再次发生。最后，不断提高基线；除非有充分的理由，否则人们不会接受性能下降。

## 自动化

自动化是云原生的核心原则。模型在早期开发中经常更新。确保质量的自动化输送管道至关重要。让新开发的产品易于投入生产，对于减少摩擦和反馈周期非常重要。

Jupyter 笔记本[2]是数据科学社区交流研究的常用方法，不能用于生产代码、测试或管道中。生产代码需要专业软件工程的严格要求。Luigi [3]等基于图形的专用管道工具在这里很有帮助。

人们不应该花时间重复编写样板文件来阅读不同的数据源。努力创建数据源的抽象，让工程师通过 API 轻松访问数据。此外，你的特征提取器不应该关心数据来自哪里；这将使添加新的数据源和重用代码变得更加容易。

快速清晰的反馈对于获得对模型和产品的信心至关重要。应该避免在环境或数据之间切换(例如，将模型扔过一堵“墙”给软件工程师是一种引入潜在错误的可靠方式)。理想情况下，应该在线和离线使用完全相同的代码，以确保离线结果与在线结果相匹配。同样，监控通常是第一道也是最后一道防线。

最后，模型的部署可能特别棘手，因为您永远不可能 100%满意模型的预期工作。一旦实现了足够的监控，您就可以将这些信息反馈到部署管道中。例如，一个简单而有效的策略是根据生产中的模型来隐藏新模型。一旦你在足够长的时间内获得了足够多的数据来证明你的模型是有效的，你就可以手动切换它。您也可以通过这种方式运行多个模型来比较性能。这就是所谓的冠军挑战者方法。具有最佳生产性能的模型被移到前面。其他标准部署策略，如 A/B 测试、蓝绿色等。这里也适用。但首先要确保你的监控达标。

## 系列结论

在这个系列中，我们讨论了战略、技术和最佳实践。开发专注于数据科学的云原生战略，可以对业务或产品产生深远的影响。产品方向和团队组织可能会有障碍，但结果是可靠、灵活的产品将有助于你的竞争。

不出所料，重要的早期技术选择集中在数据上。您必须考虑您将收集的数据类型以及您试图实现的用例。非功能性需求也很有帮助。一个不正确的选择通常意味着放弃大量的工作。

在我们开发 CNDS 项目的过程中，我们发现与过程自动化项目相比，不变性、起源和自动化的最佳实践有显著的不同。保存模型状态的完整副本对于事后分析非常有用。许多日常任务是高度重复的；为了减少错误和提高效率，花费精力使这些自动化是值得的。

在云环境中进行数据科学研究可能有其困难。数据科学项目的开发周期可能与软件项目非常不同；至少在发展的早期阶段。但是作为云原生产品会产生健壮、高性能的产品。确信你的模型按预期运行将有助于你晚上入睡。

## 术语

**数据科学**从数据中封装工程价值的过程。其他人使用不同的术语，如机器学习、人工智能或大数据，通常它们都表示相同的意思。给定数据，做出增值的决策。[了解更多关于数据科学的信息。](https://winder.ai/what-is-data-science/)

**云原生数据科学** (CNDS)是一种新兴趋势，将数据科学与云原生的优势相结合。[了解更多关于 cloud native 的信息。](https://winder.ai/what-is-cloud-native/)

## 参考

1 -古德菲勒、伊恩·j、黄邦贤·史伦斯和克里斯蒂安·塞格迪。"解释和利用对立的例子."arXiv 预印本 arXiv:1412.6572 (2014)。2-[http://jupyter.org/](http://jupyter.org/)3-[https://github.com/spotify/luigi](https://github.com/spotify/luigi)