# 日志记录与跟踪和监控

> 原文:[https://winder.ai/logging-vs-tracing-vs-monitoring/](https://winder.ai/logging-vs-tracing-vs-monitoring/)

监控是什么意思？你为什么需要它？什么是真正的需求，你在监控他们吗？问自己这些问题。你能回答他们吗？如果不是，你很可能做错了监控。

这篇文章问了一个基本问题。什么是监控？它与日志记录和跟踪相比如何？让我们找出答案。

![](../Images/426af4d0e40643dba060179691d83eaa.png)

#### 监视

## 记录

我们使用日志来表示应用程序中的状态转换。当事情出错时，我们需要日志来确定是什么状态变化导致了错误。

但问题是获取、传输、存储和解析日志的成本很高。因此，只记录必要的内容至关重要；应该只存储可以操作的日志。仅记录可操作的信息。

这通常会产生两种类型的数据；人类的恐慌级别信息和机器的结构化数据。我也怀疑你是否真的需要结构化数据。但是也有使用案例，例如安全性。

## 描摹

跟踪代表单个用户在整个应用程序堆栈中的旅程。它通常用于优化目的。例如，您可以使用它来建立堆栈中很少使用的部分或堆栈中特定部分的瓶颈。

但是它显著增加了复杂性。通常有大量的实现代码，并且通常被设计为推送模型，这意味着应用程序可能会受到监控系统中加载的影响。

旨在简化跟踪的库通常比它们所服务的代码更复杂。

因此，跟踪往往非常昂贵。仔细考虑增加的复杂性是否合理。你是否陷入过早优化的陷阱？当你只能水平扩展时，优化有那么重要吗？

## 仪表和监控

![](../Images/bbce03ca4a5cc5aa9dc2762f23e51b63.png)

#### 监控所有的东西！

检测应用程序并监控结果代表了系统的使用。它最常用于诊断目的。例如，我们会使用监控系统在系统运行不“正常”时提醒开发人员。

仪器的计算成本往往很低。度量需要几纳秒来更新，并且一些监控系统在“拉”模型上操作，这意味着服务不受监控负载的影响。

一般来说，数据越多，监控就越有用。

因此，通常情况下，您会希望检测所有的服务。但是一定要选择像 Prometheus 这样简单、可扩展的监控系统！

简而言之，监控！=日志记录！=跟踪。